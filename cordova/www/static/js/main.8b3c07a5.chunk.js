(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(7),c=n.n(o),i=(n(14),n(1)),r=n(2),u=n(4),l=n(3),m=n(5),g=(n(15),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),console.log(e),a.state={messageToSend:"",webSocket:e.webSocket,onSubmit:function(t){return e.onSubmit(e.context,t)}},a.onInputChange=a.onInputChange.bind(Object(m.a)(a)),a.sendMessage=a.sendMessage.bind(Object(m.a)(a)),a}return Object(r.a)(n,[{key:"sendMessage",value:function(e){console.log(this.state.messageToSend),e.preventDefault(),console.log(this.state),this.state.onSubmit(this.state.onSubmit(this.state.messageToSend)),this.state.webSocket.json({action:"default",message:this.state.messageToSend})}},{key:"onInputChange",value:function(e){this.setState({messageToSend:e.target.value}),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",{className:"bottom-bar"},s.a.createElement("form",{onSubmit:this.sendMessage,className:"message-box-form"},s.a.createElement("input",{type:"text",className:"message-box",value:this.state.messageToSend,onChange:this.onInputChange}),s.a.createElement("button",{type:"submit",className:"message-button"},s.a.createElement("span",{className:"material-icons"},"send"))))}}]),n}(s.a.Component)),d=(n(16),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={isSender:e.isSender,messageText:e.messageText},a}return Object(r.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"message-thread-container"},s.a.createElement("div",{className:"message-thread ".concat(this.state.isSender?"me":"other-person")},this.state.messageText))}}]),n}(s.a.Component)),h=n(8),f=(n(17),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e))._isMounted=!1,a.state={ws:a.startWebSocket(),messageList:[]},a}return Object(r.a)(n,[{key:"startWebSocket",value:function(){var e=this;return new h.a("wss://oc9gdrsfcl.execute-api.eu-west-2.amazonaws.com/messaging-test",{timeout:5e3,maxAttempts:1,onopen:function(e){console.log("Connected!")},onmessage:function(t){e._isMounted&&(e.generateMessageList(t.data),e.generateThread(t.data,!1)),console.log("Received:",t.data)},onreconnect:function(e){return console.log("Reconnecting...",e)},onmaximum:function(e){return console.log("Stop attempting!",e)},onclose:function(e){return console.log("Closed!",e)},onerror:function(e){return console.log("Error:",e)}})}},{key:"generateMessageList",value:function(e){}},{key:"generateThread",value:function(e,t){var n=this.state.messageList.slice();console.log(n),n.push(s.a.createElement(d,{key:n.length,messageText:e,isSender:t})),console.log(n),this.setState({messageList:n})}},{key:"updateMessages",value:function(){var e=this.state.messageList.slice(),t=[];e.forEach((function(e){t.push()}))}},{key:"updateThreads",value:function(e,t){void 0!==t&&(console.log("Thread updated"),console.log(t),e.generateThread(t,!0))}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return s.a.createElement("div",{className:"thread-view"},this.state.messageList,s.a.createElement(g,{webSocket:this.state.ws,onSubmit:this.updateThreads,context:this}))}}]),n}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.8b3c07a5.chunk.js.map